<link rel ="stylesheet" href="../../assets/css/style.css">
<div class="row align-items-center">
    <div class="col-12 col-sm-6 offset-sm-3">
        <div class="card">
            <div class="card-body">
                <h1 class="text-white text-center">{{pageTitle}}</h1>
                <br>
                <form enctype="multipart/form-data" method="POST" action="/libros/edit/{{libro.id}}" novalidate>
                    <div class="row">
                        <div class="col-12 col-sm-4">
                            {{#if currentImage}}
                                <img src="{{currentImage}}" alt="Imagen del libro" class="img-fluid">
                            {{else}}
                                <p>No hay imagen disponible</p>
                            {{/if}}
                        </div>
                        <div class="col-12 col-sm-8">
                          
                            <div class="mb-3">
                                <label for="titulo" class="form-label text-white">Titulo del Libro</label>
                                <input type="text" class="form-control text-dark" id="titulo" name="titulo" value="{{libro.titulo}}" required />
                            </div>

                            
                            <div class="mb-3">
                                <label for="image-file" class="form-label text-white">Selecciona una imagen</label>
                                <input type="file" class="form-control text-dark" id="image-file" name="imagePath" />
                            </div>

                            
                            <div class="mb-3">
                                <label for="fechaPublicacion" class="form-label text-white">Fecha de Publicacion</label>
                                <input type="number" class="form-control text-dark" id="fechaPublicacion" name="fechaPublicacion" value="{{libro.fechaPublicacion}}" required />
                            </div>

                           
                            <div class="mb-3">
                                <label for="autor" class="form-label text-white">Autor</label>
                                    <select class="form-select text-dark" id="autor" name="autorId" required>
                                        <option value="" disabled>Selecciona un Autor</option>
                                            {{#each autores}}
                                                <option value="{{this.id}}" {{#if this.selected}}selected{{/if}}>{{this.nombre}}</option>
                                            {{/each}}
                                    </select>
                            </div>

                            
                            <div class="mb-3">
                                 <label for="categoria" class="form-label text-white">Categoria</label>
                                    <select class="form-select text-dark" id="categoria" name="categoriaId" required>
                                        <option value="" disabled>Selecciona una Categoria</option>
                                            {{#each categorias}}
                                                <option value="{{this.id}}" {{#if this.selected}}selected{{/if}}>{{this.nombre}}</option>
                                            {{/each}}
                                    </select>
                            </div>

      
                            <div class="mb-3">
                                <label for="editorial" class="form-label text-white">Editorial</label>
                                    <select class="form-select text-dark" id="editorial" name="editorialId" required>
                                        <option value="" disabled>Selecciona una Editorial</option>
                                            {{#each editoriales}}
                                                <option value="{{this.id}}" {{#if this.selected}}selected{{/if}}>{{this.nombre}}</option>
                                            {{/each}}
                                    </select>
                            </div>

                           
                            <button type="submit" class="btn btn-general float-end" onclick="confirmCreateOrEdit(this, event)">
                                <i class="bi bi-check"></i> Guardar
                            </button>
                            <a href="/libros" class="btn btn-general2 float-end me-2">
                                <i class="bi bi-x"></i> Volver a la lista
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script src="../../assets/js/index.js"></script>